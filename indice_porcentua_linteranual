void indice_porcentua_linteranual(newestructura* es,int cantidaddearchivos)
{


    float indices=0;
    indice in[cantidaddearchivos];
    int numero=0;
    float Vinteranual=0;

    for(int i=0;i<cantidaddearchivos;i++)
    {

        if(es[i].periodo.year>2022)
        {
            indices=buscarfanterior(es,es[i].periodo,es[i].clasificador);
            Vinteranual=((es[i].numro/indices)-1)*100;
            trasladar(in[numero].palabra,es[i].palabra);
            in[numero].numro=Vinteranual;
            numero++;
        }

    }
    creararchivos("indices.dat",in,numero);

}

float buscarfanterior(newestructura* es,fecha periodo,char* tex)
{

    fecha pr=fechaRestarDias(&periodo,365);
        if(pr.dia>1)
        {
            pr.dia=1;
        }

        while(fechaComparar(&es->periodo,&pr)!=0 || !comparar(tex,es->clasificador))
        {
            es++;
        }
        return es->numro;

}

void creararchivos(char* nombre,indice* in,int numero)
{
    FILE* arch=fopen(nombre,"wb");
    if(arch==NULL)
    {
        return;
    }
    fwrite(in,sizeof(indice),numero,arch);
    fclose(arch);
}
